From 499c0b8a1f0bad4593b32d773c63ff094872c968 Mon Sep 17 00:00:00 2001
From: yuanliwei <891789592@qq.com>
Date: Tue, 28 Jun 2016 15:51:26 +0800
Subject: [PATCH 02/10] step1 over

---
 app/build.gradle                                   |  9 +-
 app/src/main/AndroidManifest.xml                   | 23 ++++-
 .../ylw/pullrefreshlayout/ScrollingActivity.java   | 51 -----------
 .../pullrefreshlayout/activity/MainActivity.java   | 59 +++++++++++++
 .../RecyclerViewActivity.java}                     | 66 ++++++++++-----
 .../pullrefreshlayout/adapter/RecyclerAdapter.java | 43 ++++++++++
 app/src/main/res/layout/activity_main.xml          |  2 +-
 app/src/main/res/layout/activity_recyle_view.xml   | 35 ++++++++
 app/src/main/res/layout/activity_scrolling.xml     | 47 -----------
 app/src/main/res/layout/content_main.xml           | 42 +++++++---
 app/src/main/res/layout/content_recyle_view.xml    | 28 +++++++
 app/src/main/res/layout/content_scrolling.xml      | 18 ----
 .../main/res/layout/sample_pull_refresh_layout.xml | 18 ----
 app/src/main/res/menu/menu_scrolling.xml           | 10 ---
 app/src/main/res/values/dimens.xml                 |  2 -
 app/src/main/res/values/strings.xml                | 98 ++--------------------
 pullrefreshlib/.gitignore                          |  1 +
 pullrefreshlib/build.gradle                        |  5 ++
 .../main/java/com/ylw/com.ylw.pullrefreshlib.java  |  4 +
 pullrefreshlibrary/.gitignore                      |  1 +
 pullrefreshlibrary/build.gradle                    | 26 ++++++
 pullrefreshlibrary/proguard-rules.pro              | 17 ++++
 .../ylw/pullrefreshlibrary/ApplicationTest.java    | 13 +++
 pullrefreshlibrary/src/main/AndroidManifest.xml    | 11 +++
 .../ylw/pullrefreshlibrary}/PullRefreshLayout.java | 75 +++++++++++++----
 .../src/main/res/layout/refresh_bottom_layout.xml  |  0
 .../src/main/res/layout/refresh_head_layout.xml    |  0
 .../main/res/values/attrs_pull_refresh_layout.xml  |  0
 pullrefreshlibrary/src/main/res/values/strings.xml |  3 +
 .../ylw/pullrefreshlibrary/ExampleUnitTest.java    | 15 ++++
 settings.gradle                                    |  2 +-
 31 files changed, 433 insertions(+), 291 deletions(-)
 delete mode 100644 app/src/main/java/com/ylw/pullrefreshlayout/ScrollingActivity.java
 create mode 100644 app/src/main/java/com/ylw/pullrefreshlayout/activity/MainActivity.java
 rename app/src/main/java/com/ylw/pullrefreshlayout/{MainActivity.java => activity/RecyclerViewActivity.java} (58%)
 create mode 100644 app/src/main/java/com/ylw/pullrefreshlayout/adapter/RecyclerAdapter.java
 create mode 100644 app/src/main/res/layout/activity_recyle_view.xml
 delete mode 100644 app/src/main/res/layout/activity_scrolling.xml
 create mode 100644 app/src/main/res/layout/content_recyle_view.xml
 delete mode 100644 app/src/main/res/layout/content_scrolling.xml
 delete mode 100644 app/src/main/res/layout/sample_pull_refresh_layout.xml
 delete mode 100644 app/src/main/res/menu/menu_scrolling.xml
 create mode 100644 pullrefreshlib/.gitignore
 create mode 100644 pullrefreshlib/build.gradle
 create mode 100644 pullrefreshlib/src/main/java/com/ylw/com.ylw.pullrefreshlib.java
 create mode 100644 pullrefreshlibrary/.gitignore
 create mode 100644 pullrefreshlibrary/build.gradle
 create mode 100644 pullrefreshlibrary/proguard-rules.pro
 create mode 100644 pullrefreshlibrary/src/androidTest/java/com/ylw/pullrefreshlibrary/ApplicationTest.java
 create mode 100644 pullrefreshlibrary/src/main/AndroidManifest.xml
 rename {app/src/main/java/com/ylw/pullrefreshlayout => pullrefreshlibrary/src/main/java/com/ylw/pullrefreshlibrary}/PullRefreshLayout.java (84%)
 rename {app => pullrefreshlibrary}/src/main/res/layout/refresh_bottom_layout.xml (100%)
 rename {app => pullrefreshlibrary}/src/main/res/layout/refresh_head_layout.xml (100%)
 rename {app => pullrefreshlibrary}/src/main/res/values/attrs_pull_refresh_layout.xml (100%)
 create mode 100644 pullrefreshlibrary/src/main/res/values/strings.xml
 create mode 100644 pullrefreshlibrary/src/test/java/com/ylw/pullrefreshlibrary/ExampleUnitTest.java

diff --git a/app/build.gradle b/app/build.gradle
index 800621c..d08e54b 100644
--- a/app/build.gradle
+++ b/app/build.gradle
@@ -1,13 +1,13 @@
 apply plugin: 'com.android.application'
 
 android {
-    compileSdkVersion 23
+    compileSdkVersion 24
     buildToolsVersion "23.0.3"
 
     defaultConfig {
         applicationId "com.ylw.pullrefreshlayout"
         minSdkVersion 15
-        targetSdkVersion 23
+        targetSdkVersion 24
         versionCode 1
         versionName "1.0"
     }
@@ -22,6 +22,7 @@ android {
 dependencies {
     compile fileTree(dir: 'libs', include: ['*.jar'])
     testCompile 'junit:junit:4.12'
-    compile 'com.android.support:appcompat-v7:23.4.0'
-    compile 'com.android.support:design:23.4.0'
+    compile 'com.android.support:appcompat-v7:24.0.0'
+    compile 'com.android.support:design:24.0.0'
+    compile project(path: ':pullrefreshlibrary')
 }
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
index 39bb67b..223aaaf 100644
--- a/app/src/main/AndroidManifest.xml
+++ b/app/src/main/AndroidManifest.xml
@@ -2,6 +2,8 @@
 <manifest package="com.ylw.pullrefreshlayout"
           xmlns:android="http://schemas.android.com/apk/res/android">
 
+    <uses-permission android:name="android.permission.INTERNET"/>
+
     <application
         android:allowBackup="true"
         android:icon="@mipmap/ic_launcher"
@@ -9,7 +11,7 @@
         android:supportsRtl="true"
         android:theme="@style/AppTheme">
         <activity
-            android:name=".MainActivity"
+            android:name=".activity.MainActivity"
             android:label="@string/title_activity_main"
             android:theme="@style/AppTheme.NoActionBar">
             <intent-filter>
@@ -19,8 +21,23 @@
             </intent-filter>
         </activity>
         <activity
-            android:name=".ScrollingActivity"
-            android:label="@string/app_name"
+            android:name=".activity.ListViewActivity"
+            android:label="@string/title_activity_list_view"
+            android:theme="@style/AppTheme.NoActionBar">
+        </activity>
+        <activity
+            android:name=".activity.ScrollViewActivity"
+            android:label="@string/title_activity_scroll_view"
+            android:theme="@style/AppTheme.NoActionBar">
+        </activity>
+        <activity
+            android:name=".activity.WebViewActivity"
+            android:label="@string/title_activity_web_view"
+            android:theme="@style/AppTheme.NoActionBar">
+        </activity>
+        <activity
+            android:name=".activity.RecyclerViewActivity"
+            android:label="@string/title_activity_recyle_view"
             android:theme="@style/AppTheme.NoActionBar">
         </activity>
     </application>
diff --git a/app/src/main/java/com/ylw/pullrefreshlayout/ScrollingActivity.java b/app/src/main/java/com/ylw/pullrefreshlayout/ScrollingActivity.java
deleted file mode 100644
index 54b379f..0000000
--- a/app/src/main/java/com/ylw/pullrefreshlayout/ScrollingActivity.java
+++ /dev/null
@@ -1,51 +0,0 @@
-package com.ylw.pullrefreshlayout;
-
-import android.os.Bundle;
-import android.support.design.widget.FloatingActionButton;
-import android.support.design.widget.Snackbar;
-import android.support.v7.app.AppCompatActivity;
-import android.support.v7.widget.Toolbar;
-import android.view.View;
-import android.view.Menu;
-import android.view.MenuItem;
-
-public class ScrollingActivity extends AppCompatActivity {
-
-    @Override
-    protected void onCreate(Bundle savedInstanceState) {
-        super.onCreate(savedInstanceState);
-        setContentView(R.layout.activity_scrolling);
-        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
-        setSupportActionBar(toolbar);
-
-        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);
-        fab.setOnClickListener(new View.OnClickListener() {
-            @Override
-            public void onClick(View view) {
-                Snackbar.make(view, "Replace with your own action", Snackbar.LENGTH_LONG)
-                        .setAction("Action", null).show();
-            }
-        });
-    }
-
-    @Override
-    public boolean onCreateOptionsMenu(Menu menu) {
-        // Inflate the menu; this adds items to the action bar if it is present.
-        getMenuInflater().inflate(R.menu.menu_scrolling, menu);
-        return true;
-    }
-
-    @Override
-    public boolean onOptionsItemSelected(MenuItem item) {
-        // Handle action bar item clicks here. The action bar will
-        // automatically handle clicks on the Home/Up button, so long
-        // as you specify a parent activity in AndroidManifest.xml.
-        int id = item.getItemId();
-
-        //noinspection SimplifiableIfStatement
-        if (id == R.id.action_settings) {
-            return true;
-        }
-        return super.onOptionsItemSelected(item);
-    }
-}
diff --git a/app/src/main/java/com/ylw/pullrefreshlayout/activity/MainActivity.java b/app/src/main/java/com/ylw/pullrefreshlayout/activity/MainActivity.java
new file mode 100644
index 0000000..fcb3000
--- /dev/null
+++ b/app/src/main/java/com/ylw/pullrefreshlayout/activity/MainActivity.java
@@ -0,0 +1,59 @@
+package com.ylw.pullrefreshlayout.activity;
+
+import android.content.Intent;
+import android.os.Bundle;
+import android.support.design.widget.FloatingActionButton;
+import android.support.design.widget.Snackbar;
+import android.support.v7.app.AppCompatActivity;
+import android.support.v7.widget.Toolbar;
+import android.view.View;
+
+import com.ylw.pullrefreshlayout.R;
+
+public class MainActivity extends AppCompatActivity {
+
+    private static final String TAG = "MainActivity";
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_main);
+        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
+        setSupportActionBar(toolbar);
+
+        assert toolbar != null;
+        toolbar.setTitle("MainTitle");
+//        toolbar.setSubtitle("SubTitle");
+//        toolbar.setLogo(R.mipmap.ic_launcher);
+
+        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);
+        fab.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                Snackbar.make(view, "Replace with your own action", Snackbar.LENGTH_LONG)
+                        .setAction("Action", null).show();
+            }
+        });
+
+
+    }
+
+    public void onClick(View v) {
+        Intent intent = null;
+        switch (v.getId()) {
+            case R.id.list_view_btn:
+                intent = new Intent(this, ListViewActivity.class);
+                break;
+            case R.id.scroll_view_btn:
+                intent = new Intent(this, ScrollViewActivity.class);
+                break;
+            case R.id.web_view_btn:
+                intent = new Intent(this, WebViewActivity.class);
+                break;
+            case R.id.recycler_view_btn:
+                intent = new Intent(this, RecyclerViewActivity.class);
+                break;
+        }
+        startActivity(intent);
+    }
+}
diff --git a/app/src/main/java/com/ylw/pullrefreshlayout/MainActivity.java b/app/src/main/java/com/ylw/pullrefreshlayout/activity/RecyclerViewActivity.java
similarity index 58%
rename from app/src/main/java/com/ylw/pullrefreshlayout/MainActivity.java
rename to app/src/main/java/com/ylw/pullrefreshlayout/activity/RecyclerViewActivity.java
index 00772a2..765b533 100644
--- a/app/src/main/java/com/ylw/pullrefreshlayout/MainActivity.java
+++ b/app/src/main/java/com/ylw/pullrefreshlayout/activity/RecyclerViewActivity.java
@@ -1,42 +1,72 @@
-package com.ylw.pullrefreshlayout;
+package com.ylw.pullrefreshlayout.activity;
 
 import android.os.Bundle;
 import android.os.Handler;
 import android.support.design.widget.FloatingActionButton;
 import android.support.design.widget.Snackbar;
 import android.support.v7.app.AppCompatActivity;
+import android.support.v7.widget.GridLayoutManager;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
+import android.support.v7.widget.StaggeredGridLayoutManager;
 import android.support.v7.widget.Toolbar;
 import android.view.View;
-import android.widget.ArrayAdapter;
-import android.widget.ListView;
 
-public class MainActivity extends AppCompatActivity {
+import com.ylw.pullrefreshlayout.R;
+import com.ylw.pullrefreshlayout.adapter.RecyclerAdapter;
+import com.ylw.pullrefreshlibrary.PullRefreshLayout;
 
-    private static final String TAG = "MainActivity";
+public class RecyclerViewActivity extends AppCompatActivity {
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
-        setContentView(R.layout.activity_main);
+        setContentView(R.layout.activity_recyle_view);
         Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
         setSupportActionBar(toolbar);
 
-        assert toolbar != null;
-        toolbar.setTitle("MainTitle");
-//        toolbar.setSubtitle("SubTitle");
-//        toolbar.setLogo(R.mipmap.ic_launcher);
+        toolbar.setNavigationIcon(R.drawable.back);
+        toolbar.setNavigationOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                finish();
+            }
+        });
+
+        final PullRefreshLayout layout = (PullRefreshLayout) findViewById(R.id.pull_layout);
+        final RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);
 
-        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);
+
+        final FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);
         fab.setOnClickListener(new View.OnClickListener() {
+            int type = 0;
+
             @Override
             public void onClick(View view) {
-                Snackbar.make(view, "Replace with your own action", Snackbar.LENGTH_LONG)
+                Snackbar.make(view, "change RecyclerView.LayoutManager", Snackbar.LENGTH_LONG)
                         .setAction("Action", null).show();
+                RecyclerView.LayoutManager layoutManager = null;
+                switch (type) {
+                    case 0:
+                        layoutManager = new LinearLayoutManager(RecyclerViewActivity.this);
+                        type = 1;
+                        break;
+                    case 1:
+                        layoutManager = new GridLayoutManager(RecyclerViewActivity.this, 5);
+                        type = 2;
+                        break;
+                    default:
+                        layoutManager = new StaggeredGridLayoutManager(3, StaggeredGridLayoutManager.VERTICAL);
+                        type = 0;
+                        break;
+                }
+                recyclerView.setLayoutManager(layoutManager);
             }
         });
 
-
-        final PullRefreshLayout layout = (PullRefreshLayout) findViewById(R.id.pull_layout);
+        recyclerView.setHasFixedSize(true);
+        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this);
+        recyclerView.setLayoutManager(layoutManager);
 
         layout.setOnPullDownListener(new PullRefreshLayout.OnPullDownListener() {
             @Override
@@ -50,12 +80,10 @@ public class MainActivity extends AppCompatActivity {
             }
         });
 
-        final ListView listView = (ListView) findViewById(R.id.list_view);
         String[] mStrings = new String[]{"package", "com", "ylw", "pullrefreshlayout", "import", "android", "os", "Bundle", "import", "android", "support", "design", "widget", "FloatingActionButton", "import", "android", "support", "design", "widget", "Snackbar", "import", "android", "support", "v7", "app", "AppCompatActivity", "import", "android", "support", "v7", "widget", "Toolbar", "import", "android", "view", "View", "import", "android", "widget", "ArrayAdapter", "import", "android", "widget", "ListView", "public", "class", "MainActivity", "extends", "AppCompatActivity", "private", "static", "final", "String", "TAG", "MainActivity", "@Override", "protected", "void", "onCreate", "Bundle", "savedInstanceState", "super", "onCreate", "savedInstanceState", "setContentView", "R", "layout", "activity", "main", "Toolbar", "toolbar", "Toolbar", "findViewById", "R", "id", "toolbar", "setSupportActionBar", "toolbar", "assert", "toolbar", "null", "toolbar", "setTitle", "MainTitle", "toolbar", "setSubtitle", "SubTitle", "toolbar", "setLogo", "R", "mipmap", "ic", "launcher", "FloatingActionButton", "fab", "FloatingActionButton", "findViewById", "R", "id", "fab", "fab", "setOnClickListener", "new", "View", "OnClickListener", "@Override", "public", "void", "onClick", "View", "view", "Snackbar", "make", "view", "Replace", "with", "your", "own", "action", "Snackbar", "LENGTH", "LONG", "setAction", "Action", "null", "show", "PullRefreshLayout", "layout", "PullRefreshLayout", "findViewById", "R", "id", "pull", "layout", "final", "ListView", "listView", "ListView", "findViewById", "R", "id", "list", "view", "String", "mStrings", "new", "String", "listView", "setAdapter", "new", "ArrayAdapter", "String", "this", "android", "R", "layout", "simple", "list", "item", "1", "mStrings"};
-        listView.setAdapter(new ArrayAdapter<String>(this,
-                android.R.layout.simple_list_item_1, mStrings));
-
-
+        RecyclerAdapter adapter = new RecyclerAdapter();
+        adapter.setDatas(mStrings);
+        recyclerView.setAdapter(adapter);
     }
 
 }
diff --git a/app/src/main/java/com/ylw/pullrefreshlayout/adapter/RecyclerAdapter.java b/app/src/main/java/com/ylw/pullrefreshlayout/adapter/RecyclerAdapter.java
new file mode 100644
index 0000000..85aa1c6
--- /dev/null
+++ b/app/src/main/java/com/ylw/pullrefreshlayout/adapter/RecyclerAdapter.java
@@ -0,0 +1,43 @@
+package com.ylw.pullrefreshlayout.adapter;
+
+import android.support.v7.widget.RecyclerView;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.TextView;
+
+/**
+ * Created by 袁立位 on 2016/6/28 13:43.
+ */
+public class RecyclerAdapter extends RecyclerView.Adapter {
+    private String[] datas;
+
+    @Override
+    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
+        View view = View.inflate(parent.getContext(), android.R.layout.simple_list_item_1, null);
+        return new ViewHolder(view);
+    }
+
+    @Override
+    public void onBindViewHolder(RecyclerView.ViewHolder holder_, int position) {
+        ViewHolder holder = (ViewHolder) holder_;
+        holder.name.setText(datas[position]);
+    }
+
+    @Override
+    public int getItemCount() {
+        return datas.length;
+    }
+
+    public void setDatas(String[] datas) {
+        this.datas = datas;
+    }
+
+    class ViewHolder extends RecyclerView.ViewHolder {
+        TextView name;
+
+        public ViewHolder(View itemView) {
+            super(itemView);
+            name = (TextView) itemView.findViewById(android.R.id.text1);
+        }
+    }
+}
diff --git a/app/src/main/res/layout/activity_main.xml b/app/src/main/res/layout/activity_main.xml
index 4a4ef8d..72f2589 100644
--- a/app/src/main/res/layout/activity_main.xml
+++ b/app/src/main/res/layout/activity_main.xml
@@ -6,7 +6,7 @@
     android:layout_width="match_parent"
     android:layout_height="match_parent"
     android:fitsSystemWindows="true"
-    tools:context="com.ylw.pullrefreshlayout.MainActivity">
+    tools:context=".activity.MainActivity">
 
     <android.support.design.widget.AppBarLayout
         android:layout_width="match_parent"
diff --git a/app/src/main/res/layout/activity_recyle_view.xml b/app/src/main/res/layout/activity_recyle_view.xml
new file mode 100644
index 0000000..3afe768
--- /dev/null
+++ b/app/src/main/res/layout/activity_recyle_view.xml
@@ -0,0 +1,35 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context=".activity.RecyclerViewActivity">
+
+    <android.support.design.widget.AppBarLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:theme="@style/AppTheme.AppBarOverlay">
+
+        <android.support.v7.widget.Toolbar
+            android:id="@+id/toolbar"
+            android:layout_width="match_parent"
+            android:layout_height="?attr/actionBarSize"
+            android:background="?attr/colorPrimary"
+            app:popupTheme="@style/AppTheme.PopupOverlay"/>
+
+    </android.support.design.widget.AppBarLayout>
+
+    <include layout="@layout/content_recyle_view"/>
+
+    <android.support.design.widget.FloatingActionButton
+        android:id="@+id/fab"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_gravity="bottom|end"
+        android:layout_margin="@dimen/fab_margin"
+        android:src="@android:drawable/btn_star"/>
+
+</android.support.design.widget.CoordinatorLayout>
diff --git a/app/src/main/res/layout/activity_scrolling.xml b/app/src/main/res/layout/activity_scrolling.xml
deleted file mode 100644
index 5b1bda1..0000000
--- a/app/src/main/res/layout/activity_scrolling.xml
+++ /dev/null
@@ -1,47 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<android.support.design.widget.CoordinatorLayout
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    xmlns:tools="http://schemas.android.com/tools"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    android:fitsSystemWindows="true"
-    tools:context="com.ylw.pullrefreshlayout.ScrollingActivity">
-
-    <android.support.design.widget.AppBarLayout
-        android:id="@+id/app_bar"
-        android:layout_width="match_parent"
-        android:layout_height="@dimen/app_bar_height"
-        android:fitsSystemWindows="true"
-        android:theme="@style/AppTheme.AppBarOverlay">
-
-        <android.support.design.widget.CollapsingToolbarLayout
-            android:id="@+id/toolbar_layout"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"
-            android:fitsSystemWindows="true"
-            app:contentScrim="?attr/colorPrimary"
-            app:layout_scrollFlags="scroll|exitUntilCollapsed">
-
-            <android.support.v7.widget.Toolbar
-                android:id="@+id/toolbar"
-                android:layout_width="match_parent"
-                android:layout_height="?attr/actionBarSize"
-                app:layout_collapseMode="pin"
-                app:popupTheme="@style/AppTheme.PopupOverlay"/>
-
-        </android.support.design.widget.CollapsingToolbarLayout>
-    </android.support.design.widget.AppBarLayout>
-
-    <include layout="@layout/content_scrolling"/>
-
-    <android.support.design.widget.FloatingActionButton
-        android:id="@+id/fab"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:layout_margin="@dimen/fab_margin"
-        android:src="@android:drawable/ic_dialog_email"
-        app:layout_anchor="@id/app_bar"
-        app:layout_anchorGravity="bottom|end"/>
-
-</android.support.design.widget.CoordinatorLayout>
diff --git a/app/src/main/res/layout/content_main.xml b/app/src/main/res/layout/content_main.xml
index 5c9df70..e542047 100644
--- a/app/src/main/res/layout/content_main.xml
+++ b/app/src/main/res/layout/content_main.xml
@@ -1,27 +1,45 @@
 <?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout
+<LinearLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
+    android:gravity="center"
+    android:orientation="vertical"
     android:paddingBottom="@dimen/activity_vertical_margin"
     android:paddingLeft="@dimen/activity_horizontal_margin"
     android:paddingRight="@dimen/activity_horizontal_margin"
     android:paddingTop="@dimen/activity_vertical_margin"
     app:layout_behavior="@string/appbar_scrolling_view_behavior"
-    tools:context="com.ylw.pullrefreshlayout.MainActivity"
+    tools:context=".activity.MainActivity"
     tools:showIn="@layout/activity_main">
 
-    <com.ylw.pullrefreshlayout.PullRefreshLayout
-        android:id="@+id/pull_layout"
+    <Button
+        android:id="@+id/list_view_btn"
         android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:background="#FFCCCCCC">
+        android:layout_height="60dp"
+        android:onClick="onClick"
+        android:text="@string/list_view"/>
 
-        <ListView
-            android:id="@+id/list_view"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"></ListView>
-    </com.ylw.pullrefreshlayout.PullRefreshLayout>
-</RelativeLayout>
+    <Button
+        android:id="@+id/scroll_view_btn"
+        android:layout_width="match_parent"
+        android:layout_height="60dp"
+        android:onClick="onClick"
+        android:text="@string/scroll_view"/>
+
+    <Button
+        android:id="@+id/web_view_btn"
+        android:layout_width="match_parent"
+        android:layout_height="60dp"
+        android:onClick="onClick"
+        android:text="@string/web_view"/>
+
+    <Button
+        android:id="@+id/recycler_view_btn"
+        android:layout_width="match_parent"
+        android:layout_height="60dp"
+        android:onClick="onClick"
+        android:text="@string/recycler_view"/>
+</LinearLayout>
diff --git a/app/src/main/res/layout/content_recyle_view.xml b/app/src/main/res/layout/content_recyle_view.xml
new file mode 100644
index 0000000..6125a56
--- /dev/null
+++ b/app/src/main/res/layout/content_recyle_view.xml
@@ -0,0 +1,28 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:paddingBottom="@dimen/activity_vertical_margin"
+    android:paddingLeft="@dimen/activity_horizontal_margin"
+    android:paddingRight="@dimen/activity_horizontal_margin"
+    android:paddingTop="@dimen/activity_vertical_margin"
+    app:layout_behavior="@string/appbar_scrolling_view_behavior"
+    tools:context=".activity.RecyclerViewActivity"
+    tools:showIn="@layout/activity_recyle_view">
+
+    <com.ylw.pullrefreshlibrary.PullRefreshLayout
+        android:id="@+id/pull_layout"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+
+        <android.support.v7.widget.RecyclerView
+            android:id="@+id/recycler_view"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+        </android.support.v7.widget.RecyclerView>
+    </com.ylw.pullrefreshlibrary.PullRefreshLayout>
+</RelativeLayout>
diff --git a/app/src/main/res/layout/content_scrolling.xml b/app/src/main/res/layout/content_scrolling.xml
deleted file mode 100644
index 5385c39..0000000
--- a/app/src/main/res/layout/content_scrolling.xml
+++ /dev/null
@@ -1,18 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<android.support.v4.widget.NestedScrollView
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    xmlns:tools="http://schemas.android.com/tools"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    app:layout_behavior="@string/appbar_scrolling_view_behavior"
-    tools:context="com.ylw.pullrefreshlayout.ScrollingActivity"
-    tools:showIn="@layout/activity_scrolling">
-
-    <TextView
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:layout_margin="@dimen/text_margin"
-        android:text="@string/large_text"/>
-
-</android.support.v4.widget.NestedScrollView>
diff --git a/app/src/main/res/layout/sample_pull_refresh_layout.xml b/app/src/main/res/layout/sample_pull_refresh_layout.xml
deleted file mode 100644
index 0af6264..0000000
--- a/app/src/main/res/layout/sample_pull_refresh_layout.xml
+++ /dev/null
@@ -1,18 +0,0 @@
-<FrameLayout
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent">
-
-    <com.ylw.pullrefreshlayout.PullRefreshLayout
-        android:layout_width="300dp"
-        android:layout_height="300dp"
-        android:background="#ccc"
-        android:paddingBottom="40dp"
-        android:paddingLeft="20dp"
-        app:exampleColor="#33b5e5"
-        app:exampleDimension="24sp"
-        app:exampleDrawable="@android:drawable/ic_menu_add"
-        app:exampleString="Hello, PullRefreshLayout"/>
-
-</FrameLayout>
diff --git a/app/src/main/res/menu/menu_scrolling.xml b/app/src/main/res/menu/menu_scrolling.xml
deleted file mode 100644
index de860bf..0000000
--- a/app/src/main/res/menu/menu_scrolling.xml
+++ /dev/null
@@ -1,10 +0,0 @@
-<menu xmlns:android="http://schemas.android.com/apk/res/android"
-      xmlns:app="http://schemas.android.com/apk/res-auto"
-      xmlns:tools="http://schemas.android.com/tools"
-      tools:context="com.ylw.pullrefreshlayout.ScrollingActivity">
-    <item
-        android:id="@+id/action_settings"
-        android:orderInCategory="100"
-        android:title="@string/action_settings"
-        app:showAsAction="never"/>
-</menu>
diff --git a/app/src/main/res/values/dimens.xml b/app/src/main/res/values/dimens.xml
index 7b1b7d3..617af6a 100644
--- a/app/src/main/res/values/dimens.xml
+++ b/app/src/main/res/values/dimens.xml
@@ -1,7 +1,5 @@
 <resources>
-    <dimen name="app_bar_height">180dp</dimen>
     <dimen name="fab_margin">16dp</dimen>
-    <dimen name="text_margin">16dp</dimen>
     <!-- Default screen margins, per the Android Design guidelines. -->
     <dimen name="activity_horizontal_margin">16dp</dimen>
     <dimen name="activity_vertical_margin">16dp</dimen>
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
index 63b68ac..cf9f315 100644
--- a/app/src/main/res/values/strings.xml
+++ b/app/src/main/res/values/strings.xml
@@ -1,94 +1,12 @@
 <resources>
     <string name="app_name">PullRefreshLayout</string>
-    <string name="large_text">
-        "Material is the metaphor.\n\n"
-
-        "A material metaphor is the unifying theory of a rationalized space and a system of motion."
-        "The material is grounded in tactile reality, inspired by the study of paper and ink, yet "
-        "technologically advanced and open to imagination and magic.\n"
-        "Surfaces and edges of the material provide visual cues that are grounded in reality. The "
-        "use of familiar tactile attributes helps users quickly understand affordances. Yet the "
-        "flexibility of the material creates new affordances that supercede those in the physical "
-        "world, without breaking the rules of physics.\n"
-        "The fundamentals of light, surface, and movement are key to conveying how objects move, "
-        "interact, and exist in space and in relation to each other. Realistic lighting shows "
-        "seams, divides space, and indicates moving parts.\n\n"
-
-        "Bold, graphic, intentional.\n\n"
-
-        "The foundational elements of print based design typography, grids, space, scale, color, "
-        "and use of imagery guide visual treatments. These elements do far more than please the "
-        "eye. They create hierarchy, meaning, and focus. Deliberate color choices, edge to edge "
-        "imagery, large scale typography, and intentional white space create a bold and graphic "
-        "interface that immerse the user in the experience.\n"
-        "An emphasis on user actions makes core functionality immediately apparent and provides "
-        "waypoints for the user.\n\n"
-
-        "Motion provides meaning.\n\n"
-
-        "Motion respects and reinforces the user as the prime mover. Primary user actions are "
-        "inflection points that initiate motion, transforming the whole design.\n"
-        "All action takes place in a single environment. Objects are presented to the user without "
-        "breaking the continuity of experience even as they transform and reorganize.\n"
-        "Motion is meaningful and appropriate, serving to focus attention and maintain continuity. "
-        "Feedback is subtle yet clear. Transitions are efﬁcient yet coherent.\n\n"
-
-        "3D world.\n\n"
-
-        "The material environment is a 3D space, which means all objects have x, y, and z "
-        "dimensions. The z-axis is perpendicularly aligned to the plane of the display, with the "
-        "positive z-axis extending towards the viewer. Every sheet of material occupies a single "
-        "position along the z-axis and has a standard 1dp thickness.\n"
-        "On the web, the z-axis is used for layering and not for perspective. The 3D world is "
-        "emulated by manipulating the y-axis.\n\n"
-
-        "Light and shadow.\n\n"
-
-        "Within the material environment, virtual lights illuminate the scene. Key lights create "
-        "directional shadows, while ambient light creates soft shadows from all angles.\n"
-        "Shadows in the material environment are cast by these two light sources. In Android "
-        "development, shadows occur when light sources are blocked by sheets of material at "
-        "various positions along the z-axis. On the web, shadows are depicted by manipulating the "
-        "y-axis only. The following example shows the card with a height of 6dp.\n\n"
-
-        "Resting elevation.\n\n"
-
-        "All material objects, regardless of size, have a resting elevation, or default elevation "
-        "that does not change. If an object changes elevation, it should return to its resting "
-        "elevation as soon as possible.\n\n"
-
-        "Component elevations.\n\n"
-
-        "The resting elevation for a component type is consistent across apps (e.g., FAB elevation "
-        "does not vary from 6dp in one app to 16dp in another app).\n"
-        "Components may have different resting elevations across platforms, depending on the depth "
-        "of the environment (e.g., TV has a greater depth than mobile or desktop).\n\n"
-
-        "Responsive elevation and dynamic elevation offsets.\n\n"
-
-        "Some component types have responsive elevation, meaning they change elevation in response "
-        "to user input (e.g., normal, focused, and pressed) or system events. These elevation "
-        "changes are consistently implemented using dynamic elevation offsets.\n"
-        "Dynamic elevation offsets are the goal elevation that a component moves towards, relative "
-        "to the component’s resting state. They ensure that elevation changes are consistent "
-        "across actions and component types. For example, all components that lift on press have "
-        "the same elevation change relative to their resting elevation.\n"
-        "Once the input event is completed or cancelled, the component will return to its resting "
-        "elevation.\n\n"
-
-        "Avoiding elevation interference.\n\n"
-
-        "Components with responsive elevations may encounter other components as they move between "
-        "their resting elevations and dynamic elevation offsets. Because material cannot pass "
-        "through other material, components avoid interfering with one another any number of ways, "
-        "whether on a per component basis or using the entire app layout.\n"
-        "On a component level, components can move or be removed before they cause interference. "
-        "For example, a floating action button (FAB) can disappear or move off screen before a "
-        "user picks up a card, or it can move if a snackbar appears.\n"
-        "On the layout level, design your app layout to minimize opportunities for interference. "
-        "For example, position the FAB to one side of stream of a cards so the FAB won’t interfere "
-        "when a user tries to pick up one of cards.\n\n"
-    </string>
-    <string name="action_settings">Settings</string>
     <string name="title_activity_main">MainActivity</string>
+    <string name="title_activity_list_view">ListViewActivity</string>
+    <string name="list_view">ListView</string>
+    <string name="title_activity_scroll_view">ScrollViewActivity</string>
+    <string name="scroll_view">SCROLLVIEW</string>
+    <string name="title_activity_web_view">WebViewActivity</string>
+    <string name="web_view">WEBVIEW</string>
+    <string name="title_activity_recyle_view">RecyleViewActivity</string>
+    <string name="recycler_view">RECYCLERVIEW</string>
 </resources>
diff --git a/pullrefreshlib/.gitignore b/pullrefreshlib/.gitignore
new file mode 100644
index 0000000..796b96d
--- /dev/null
+++ b/pullrefreshlib/.gitignore
@@ -0,0 +1 @@
+/build
diff --git a/pullrefreshlib/build.gradle b/pullrefreshlib/build.gradle
new file mode 100644
index 0000000..89a226b
--- /dev/null
+++ b/pullrefreshlib/build.gradle
@@ -0,0 +1,5 @@
+apply plugin: 'java'
+
+dependencies {
+    compile fileTree(dir: 'libs', include: ['*.jar'])
+}
diff --git a/pullrefreshlib/src/main/java/com/ylw/com.ylw.pullrefreshlib.java b/pullrefreshlib/src/main/java/com/ylw/com.ylw.pullrefreshlib.java
new file mode 100644
index 0000000..39d0a69
--- /dev/null
+++ b/pullrefreshlib/src/main/java/com/ylw/com.ylw.pullrefreshlib.java
@@ -0,0 +1,4 @@
+package com.ylw;
+
+public class com.ylw.pullrefreshlib {
+}
diff --git a/pullrefreshlibrary/.gitignore b/pullrefreshlibrary/.gitignore
new file mode 100644
index 0000000..796b96d
--- /dev/null
+++ b/pullrefreshlibrary/.gitignore
@@ -0,0 +1 @@
+/build
diff --git a/pullrefreshlibrary/build.gradle b/pullrefreshlibrary/build.gradle
new file mode 100644
index 0000000..11c3871
--- /dev/null
+++ b/pullrefreshlibrary/build.gradle
@@ -0,0 +1,26 @@
+apply plugin: 'com.android.library'
+
+android {
+    compileSdkVersion 24
+    buildToolsVersion "24.0.0"
+
+    defaultConfig {
+        minSdkVersion 15
+        targetSdkVersion 24
+        versionCode 1
+        versionName "1.0"
+    }
+    buildTypes {
+        release {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
+    }
+}
+
+dependencies {
+    compile fileTree(dir: 'libs', include: ['*.jar'])
+    testCompile 'junit:junit:4.12'
+    compile 'com.android.support:appcompat-v7:24.0.0'
+    compile 'com.android.support:recyclerview-v7:24.0.0'
+}
diff --git a/pullrefreshlibrary/proguard-rules.pro b/pullrefreshlibrary/proguard-rules.pro
new file mode 100644
index 0000000..95065db
--- /dev/null
+++ b/pullrefreshlibrary/proguard-rules.pro
@@ -0,0 +1,17 @@
+# Add project specific ProGuard rules here.
+# By default, the flags in this file are appended to flags specified
+# in d:\Android\sdk/tools/proguard/proguard-android.txt
+# You can edit the include path and order by changing the proguardFiles
+# directive in build.gradle.
+#
+# For more details, see
+#   http://developer.android.com/guide/developing/tools/proguard.html
+
+# Add any project specific keep options here:
+
+# If your project uses WebView with JS, uncomment the following
+# and specify the fully qualified class name to the JavaScript interface
+# class:
+#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
+#   public *;
+#}
diff --git a/pullrefreshlibrary/src/androidTest/java/com/ylw/pullrefreshlibrary/ApplicationTest.java b/pullrefreshlibrary/src/androidTest/java/com/ylw/pullrefreshlibrary/ApplicationTest.java
new file mode 100644
index 0000000..806ee59
--- /dev/null
+++ b/pullrefreshlibrary/src/androidTest/java/com/ylw/pullrefreshlibrary/ApplicationTest.java
@@ -0,0 +1,13 @@
+package com.ylw.pullrefreshlibrary;
+
+import android.app.Application;
+import android.test.ApplicationTestCase;
+
+/**
+ * <a href="http://d.android.com/tools/testing/testing_android.html">Testing Fundamentals</a>
+ */
+public class ApplicationTest extends ApplicationTestCase<Application> {
+    public ApplicationTest() {
+        super(Application.class);
+    }
+}
diff --git a/pullrefreshlibrary/src/main/AndroidManifest.xml b/pullrefreshlibrary/src/main/AndroidManifest.xml
new file mode 100644
index 0000000..ad4112d
--- /dev/null
+++ b/pullrefreshlibrary/src/main/AndroidManifest.xml
@@ -0,0 +1,11 @@
+<manifest package="com.ylw.pullrefreshlibrary"
+          xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <application android:allowBackup="true"
+                 android:label="@string/app_name"
+                 android:supportsRtl="true"
+    >
+
+    </application>
+
+</manifest>
diff --git a/app/src/main/java/com/ylw/pullrefreshlayout/PullRefreshLayout.java b/pullrefreshlibrary/src/main/java/com/ylw/pullrefreshlibrary/PullRefreshLayout.java
similarity index 84%
rename from app/src/main/java/com/ylw/pullrefreshlayout/PullRefreshLayout.java
rename to pullrefreshlibrary/src/main/java/com/ylw/pullrefreshlibrary/PullRefreshLayout.java
index 9765405..85aed80 100644
--- a/app/src/main/java/com/ylw/pullrefreshlayout/PullRefreshLayout.java
+++ b/pullrefreshlibrary/src/main/java/com/ylw/pullrefreshlibrary/PullRefreshLayout.java
@@ -1,10 +1,10 @@
-package com.ylw.pullrefreshlayout;
+package com.ylw.pullrefreshlibrary;
 
 import android.content.Context;
 import android.content.res.TypedArray;
 import android.graphics.Paint;
-import android.support.v4.view.ScrollingView;
 import android.support.v4.widget.ViewDragHelper;
+import android.support.v7.widget.RecyclerView;
 import android.text.TextPaint;
 import android.util.AttributeSet;
 import android.view.MotionEvent;
@@ -14,6 +14,7 @@ import android.webkit.WebView;
 import android.widget.AbsListView;
 import android.widget.FrameLayout;
 import android.widget.ListView;
+import android.widget.ScrollView;
 
 /*
  * 下拉刷新控件
@@ -239,15 +240,28 @@ public class PullRefreshLayout extends FrameLayout {
 //        }
     }
 
+    // 标记正在刷新的时候出现了触摸事件
+    boolean refreshingDown = false;
+
     @Override
     public boolean onInterceptTouchEvent(MotionEvent event) {
-        if (refreshing) return true;
+        if (refreshing || refreshingDown) {
+            switch (event.getAction()) {
+                case MotionEvent.ACTION_DOWN:
+                case MotionEvent.ACTION_MOVE:
+                    refreshingDown = true;
+                    break;
+                case MotionEvent.ACTION_UP:
+                default:
+                    refreshingDown = false;
+                    break;
+            }
+            return true;
+        }
         if (event.getAction() == MotionEvent.ACTION_DOWN) {
             initDragView(contentView, event);
         }
         if (event.getHistorySize() > 0) {                             //拦截Touch事件
-            if (pullCallBack == null)
-                return mDragger.shouldInterceptTouchEvent(event);
             if (event.getY() > event.getHistoricalY(0)) {             //向下滑动
                 if (pullCallBack.canPullDown()) {
                     return mDragger.shouldInterceptTouchEvent(event);
@@ -262,7 +276,13 @@ public class PullRefreshLayout extends FrameLayout {
                 }
             }
         }
-        return mDragger.shouldInterceptTouchEvent(event);
+        if (pullCallBack.canPullDown()) {
+            return mDragger.shouldInterceptTouchEvent(event);
+        } else if (pullCallBack.canPullUp()) {
+            return mDragger.shouldInterceptTouchEvent(event);
+        } else {
+            return false;
+        }
     }
 
     /**
@@ -276,8 +296,19 @@ public class PullRefreshLayout extends FrameLayout {
 
     @Override
     public boolean onTouchEvent(MotionEvent event) {
-//            mDragger.captureChildView(dragView, 0);
-        if (refreshing) return true;
+        if (refreshing || refreshingDown) {
+            switch (event.getAction()) {
+                case MotionEvent.ACTION_DOWN:
+                case MotionEvent.ACTION_MOVE:
+                    refreshingDown = true;
+                    break;
+                case MotionEvent.ACTION_UP:
+                default:
+                    refreshingDown = false;
+                    break;
+            }
+            return true;
+        }
         mDragger.processTouchEvent(event);
         return true;
     }
@@ -301,7 +332,7 @@ public class PullRefreshLayout extends FrameLayout {
         }
 
         private void countIt() {
-            if (contentView instanceof ScrollingView) {
+            if (contentView instanceof ScrollView) {
                 canPullDown = contentView.getScrollY() == 0;
 
                 View contentview = ((ViewGroup) contentView).getChildAt(0);
@@ -327,26 +358,40 @@ public class PullRefreshLayout extends FrameLayout {
                             if (firstVisibleItemView != null && firstVisibleItemView.getTop() == 0) {
                                 canPullDown = true;
                                 canPullUp = false;
-                                return;
                             }
                         } else if ((firstVisibleItem + visibleItemCount) == totalItemCount) {
                             View lastVisibleItemView = view.getChildAt(view.getChildCount() - 1);
                             if (lastVisibleItemView != null && lastVisibleItemView.getBottom() == view.getHeight()) {
                                 canPullDown = false;
                                 canPullUp = true;
-                                return;
                             }
                         }
                     }
                 });
             } else if (contentView instanceof WebView) {
                 WebView web = (WebView) contentView;
+                canPullDown = false;
+                canPullUp = false;
                 if (web.getScrollY() == 0) {
                     canPullDown = true;
-                    canPullUp = false;
-                } else if (web.getContentHeight() * web.getScale() == (web.getHeight() + web.getScrollY())) {
-                    //已经处于底端
-                    canPullDown = false;
+                }
+//                if (web.getContentHeight() * web.getScale() == (web.getHeight() + web.getScrollY())) {
+//                    //已经处于底端
+//                    canPullUp = true;
+//                }
+            } else if (contentView instanceof RecyclerView) {
+                RecyclerView view = (RecyclerView) contentView;
+                canPullDown = false;
+                canPullUp = false;
+
+                int Extent = view.computeVerticalScrollExtent();
+                int Offset = view.computeVerticalScrollOffset();
+                int Range = view.computeVerticalScrollRange();
+//                Log.d(TAG, "countIt: Offset + Extent - Range = " + (Offset + Extent - Range));
+                if (Offset == 0) {
+                    canPullDown = true;
+                }
+                if (Offset + Extent >= Range) {
                     canPullUp = true;
                 }
             }
diff --git a/app/src/main/res/layout/refresh_bottom_layout.xml b/pullrefreshlibrary/src/main/res/layout/refresh_bottom_layout.xml
similarity index 100%
rename from app/src/main/res/layout/refresh_bottom_layout.xml
rename to pullrefreshlibrary/src/main/res/layout/refresh_bottom_layout.xml
diff --git a/app/src/main/res/layout/refresh_head_layout.xml b/pullrefreshlibrary/src/main/res/layout/refresh_head_layout.xml
similarity index 100%
rename from app/src/main/res/layout/refresh_head_layout.xml
rename to pullrefreshlibrary/src/main/res/layout/refresh_head_layout.xml
diff --git a/app/src/main/res/values/attrs_pull_refresh_layout.xml b/pullrefreshlibrary/src/main/res/values/attrs_pull_refresh_layout.xml
similarity index 100%
rename from app/src/main/res/values/attrs_pull_refresh_layout.xml
rename to pullrefreshlibrary/src/main/res/values/attrs_pull_refresh_layout.xml
diff --git a/pullrefreshlibrary/src/main/res/values/strings.xml b/pullrefreshlibrary/src/main/res/values/strings.xml
new file mode 100644
index 0000000..972122f
--- /dev/null
+++ b/pullrefreshlibrary/src/main/res/values/strings.xml
@@ -0,0 +1,3 @@
+<resources>
+    <string name="app_name">PullRefresh Library</string>
+</resources>
diff --git a/pullrefreshlibrary/src/test/java/com/ylw/pullrefreshlibrary/ExampleUnitTest.java b/pullrefreshlibrary/src/test/java/com/ylw/pullrefreshlibrary/ExampleUnitTest.java
new file mode 100644
index 0000000..bfab5b5
--- /dev/null
+++ b/pullrefreshlibrary/src/test/java/com/ylw/pullrefreshlibrary/ExampleUnitTest.java
@@ -0,0 +1,15 @@
+package com.ylw.pullrefreshlibrary;
+
+import org.junit.Test;
+
+import static org.junit.Assert.*;
+
+/**
+ * To work on unit tests, switch the Test Artifact in the Build Variants view.
+ */
+public class ExampleUnitTest {
+    @Test
+    public void addition_isCorrect() throws Exception {
+        assertEquals(4, 2 + 2);
+    }
+}
diff --git a/settings.gradle b/settings.gradle
index e7b4def..ec2081a 100644
--- a/settings.gradle
+++ b/settings.gradle
@@ -1 +1 @@
-include ':app'
+include ':app', ':pullrefreshlibrary'
-- 
2.9.0.windows.1

